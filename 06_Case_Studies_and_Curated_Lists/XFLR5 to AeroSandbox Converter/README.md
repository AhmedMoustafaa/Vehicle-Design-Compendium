# XFLR5 to AeroSandbox Converter and Aerodynamic Analyzer
---
This folder contains a set of Python scripts designed to facilitate the transition of aircraft geometry defined in XFLR5 XML files into `aerosandbox` objects, followed by comprehensive aerodynamic and stability analysis. It provides a robust pipeline for parsing XFLR5 data, converting it to a format compatible with `aerosandbox`, and then performing detailed VLM (Vortex Lattice Method) analyses to determine critical flight parameters and stability derivatives.

### Scripts Overview:

* **`xflr5_parser.py`**: This script is responsible for **parsing XFLR5 XML files**. It extracts detailed aircraft geometry, including wings (main wing, horizontal stabilizers, vertical stabilizers) and their respective sections, along with paneling and airfoil information. The parsed data is encapsulated in `XFLR5Airplane` objects, which serve as an intermediate representation of the aircraft's structure.
* **`aerosandbox_converter.py`**: This module acts as the bridge between XFLR5 and `aerosandbox`. It takes an `XFLR5Airplane` object (generated by `xflr5_parser.py`) and **converts it into an `aerosandbox.Airplane` object**, which is required for subsequent aerodynamic analysis. A key feature of this script is its ability to **calculate the aircraft's Center of Gravity (CG)** based on the Neutral Point (NP) and a specified target static margin, utilizing VLM optimization to find the trim condition where pitching moment coefficient (`Cm_alpha`) is zero. It also includes a utility to calculate dihedral angles of wings.
* **`analyzer.py`**: This script performs **detailed aerodynamic and stability analysis** on an `aerosandbox.Airplane` object. It calculates a range of crucial metrics, including:
    * **Trimmed Flight Conditions:** Determines the cruise speed and angle of attack where lift equals weight and pitching moment is zero.
    * **Stability Derivatives:** Computes key stability derivatives such as `Cm_alpha` (longitudinal stability), `Cl_beta` (lateral stability), and `Cn_beta` (directional stability).
    * **Stall Speed Range:** Estimates the aircraft's stall speed based on assumed airfoil characteristics.
    * **Aspect Ratio:** Calculates the aspect ratio of the main wing.
    * **Pitching Moment at Zero Lift (`Cm` at `CL=0`):** Finds the pitching moment coefficient when the lift coefficient is zero.

### Workflow:

1.  An XFLR5 XML file, which defines the aircraft's geometry, is parsed by `xflr5_parser.py`.
2.  The resulting `XFLR5Airplane` object is then passed to `aerosandbox_converter.py`, which transforms it into a compatible `aerosandbox.Airplane` object and determines the aircraft's CG for a given static margin.
3.  Finally, the `aerosandbox.Airplane` object is fed into `analyzer.py` to perform a full suite of aerodynamic and stability analyses, providing comprehensive performance data.

### Usage:

To utilize these scripts, ensure all required Python packages are installed. You can run the `analyzer.py` script directly, providing it with the path to your XFLR5 XML input file. The script will handle the parsing, conversion, and analysis, then print the detailed results to the console. Example usage is provided within the `if __name__ == '__main__':` blocks of each script, often creating dummy XML files for demonstration.

### Dependencies:

* `aerosandbox`
* `aerosandbox.numpy` (aliased as `np`)
* `matplotlib` (for `aerosandbox` plotting, if utilized in related scripts)
* `xml.etree.ElementTree` (built-in, used by `xflr5_parser.py`)
* `re` (built-in, used by `xflr5_parser.py`)
* `typing` (built-in)